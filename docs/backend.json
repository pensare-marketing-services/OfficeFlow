{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "description": "Represents a user in the system, either an admin or an employee.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The user's full name."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address, used for login."
        },
        "role": {
          "type": "string",
          "enum": [
            "admin",
            "employee"
          ],
          "description": "The user's role in the system."
        },
        "username": {
            "type": "string",
            "description": "The user's unique username for login."
        },
        "password": {
            "type": "string",
            "description": "The user's password for login (stored for custom auth)."
        }
      },
      "required": [
        "name",
        "email",
        "role"
      ]
    },
    "Task": {
      "title": "Task",
      "description": "Represents a single task or piece of content to be worked on.",
      "type": "object",
      "properties": {
        "title": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "status": {
          "type": "string",
          "enum": [
            "To Do",
            "In Progress",
            "Done",
            "Overdue",
            "Scheduled",
            "On Work",
            "For Approval",
            "Approved",
            "Posted",
            "Hold",
            "Ready for Next"
          ]
        },
        "priority": {
          "type": "string",
          "enum": [
            "Low",
            "Medium",
            "High"
          ]
        },
        "deadline": {
          "type": "string",
          "format": "date-time"
        },
        "assigneeIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "The UIDs of the users this task is assigned to. Can have up to 2 assignees."
        },
        "clientId": {
          "type": "string",
          "description": "The ID of the client this task is for."
        },
        "contentType": {
          "type": "string",
          "enum": [
            "Image Ad",
            "Video Ad",
            "Carousel",
            "Backend Ad",
            "Story",
            "Web Blogs",
            "Podcast",
            "SEO",
            "Website"
          ]
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "progressNotes": {
          "type": "array",
          "items": {
            "$ref": "#/entities/ProgressNote"
          }
        },
        "activeAssigneeIndex": {
          "type": "number",
          "description": "The index of the assignee in the assigneeIds array who is currently responsible for the task."
        }
      },
      "required": [
        "title",
        "status",
        "priority",
        "deadline"
      ]
    },
    "Client": {
      "title": "Client",
      "description": "Represents a client of the agency.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "socialPlatforms": {
          "type": "string",
          "description": "Social media platforms managed for the client."
        },
        "plan": {
          "type": "string",
          "description": "The monthly content plan for the client."
        },
        "billDuration": {
          "type": "string",
          "description": "The billing period for the client."
        },
        "monthlyReach": {
          "type": "string",
          "description": "The target monthly reach for the client's campaigns."
        }
      },
      "required": [
        "name"
      ]
    },
    "ProgressNote": {
      "title": "Progress Note",
      "description": "A single note or remark on a task, which can include text or an image.",
      "type": "object",
      "properties": {
        "note": {
          "type": "string"
        },
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "authorId": {
          "type": "string"
        },
        "authorName": {
          "type": "string"
        },
        "imageUrl": {
          "type": "string",
          "format": "uri"
        }
      }
    },
    "Notification": {
      "title": "Notification",
      "description": "Represents a single notification for a user.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The UID of the user this notification is for."
        },
        "message": {
          "type": "string"
        },
        "link": {
          "type": "string",
          "format": "uri"
        },
        "read": {
          "type": "boolean"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": [
        "userId",
        "message",
        "read",
        "createdAt"
      ]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores public profiles for all users."
    },
    "/tasks/{taskId}": {
      "schema": {
        "$ref": "#/entities/Task"
      },
      "description": "Stores all tasks for the organization."
    },
    "/clients/{clientId}": {
      "schema": {
        "$ref": "#/entities/Client"
      },
      "description": "Stores all clients for the organization."
    },
    "/notifications/{notificationId}": {
      "schema": {
        "$ref": "#/entities/Notification"
      },
      "description": "Stores notifications for users."
    }
  }
}